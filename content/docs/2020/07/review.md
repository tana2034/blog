---
title: "レビューについて"
date: 2020-07-05T19:22:08+09:00
---

# レビューについて

これまであまりレビューしてこなかったので、WEB+DB PRESS vol.96のレビュー実践研修を読んで、レビュー文化について学ぶ
## レビューの目的

- バグの早期発見
- コードのクオリティを高める
- チームを強くする

## レビューをするときに大事なこと

- 人に対してでなく、コードに対してレビューする
    - Gerald Winbergの「エゴレスプログラミング」の考え方を大事にする
    - 良いものを作ろうというところにレビューする側・される側がお互いにフォーカスすることが大事

## レビューの基本

### レビュイーがレビューを依頼する前に心がけたいこと

- 自分でも見直して、表記の揺れや改めて修正すべきところがないか見直す
- 作業のゴールを明示する
    - これは何をしている実装なのか？がわからないと、レビュワーも困る
- コミットを意味のある単位で分割する
    - コミットの一単位があまり大きくなりすぎず、レビュイーの思考過程を追えるような内容だと、レビュワーが理解しやすい
- コードを分割する
    - コード量が多すぎるとレビュワーがカバーするのが大変
    - また、差し戻された場合の修正量も多くなってしまうため、一度の修正量が1000行などだったら、複数のレビューに分割したほうが双方にとってよい
- 自分のしないこと、うまくいかなかったことなどもかいておくとよりお互いの認識の齟齬がなくなる
    - 必要な実装と思われるものが入っていないと、レビュワーが気になる
        - 今回はやらない、次の実装でやる、などがかいてあると、認識が共有できてGood
    - 「このパターンはどうだろう」「それはやろうとしてできなかった」というやりとりは割と頻繁にある
        - レビュイーの試行錯誤をかいておくと、レビュワーも認識が深まる

### レビュワーがレビューをするときに心がけること

- 期待する結果を明確に伝える
    - 曖昧な言葉でいうと、正確な意図が把握できず、次のアクションが起こしづらくなる
    - 期待する結果を伝える

```
ここ、なんでこうなっちゃったんですかねぇ……。
↓
- プロダクトが仕様を満たしていないので、満たすように変更してほしい
- なぜそのような設計になったのか理解できないので、説明をうけて理解したい
- 問題に対してもっと良い解決策があるので、相手にも知ってほしいし、実装を変更してほしい
- 自分だったらこうするという実装例を示し
```

```
自分だったら、こういう実装じゃなくて、こうするかなあ。
（案を採用してほしいのか、知見を共有したいのかがわかりづらい）
↓
自分はこんな実装を思いつきました。ですがこの実装も全く問題ないですね。もし私の案のほうがよさそうだったら採用してください。
```

- 認識のズレをへらすために
    - FYIやIMO、SHOULD、MUSTなどの定型句を使うと、自分のレビューにあたっての意見が手短に伝わりやすくなる

- フィードバックには必ず理由を添える
    - どういう理由で修正を求めるかわかりづらいと、レビュイーも修正の意図が汲めない
    - レビューは命令ではないので、レビュイーの納得を得るための説明が必要

- ダメ出しだけではない

### その他

- フェーズを意識したレビュー

## チームで意識すること

- レビューの負荷が一人によらないようにする
- 自分より練度の高い相手もレビューする
- 可能な限り属人性を排除する

## 全体を通して

レビューでは、レビュワーとレビュイーの目的意識を同じところに持っていくことが大事で、
そのための認識のズレの修正や、コミュニケーションにおける情報伝達を軽視しないようにすると、
よりよいレビューにつながりそうという意識になりました。